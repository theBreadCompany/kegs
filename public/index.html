<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/html">
    <head>
        <meta charset="UTF-8"/>
        <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
        <title>FUCC | KEGS</title>
        <link rel="stylesheet" href="tailwind.css"/>
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/brands.min.css">
        <script src="content.js" defer></script>
    </head>
    <body>
        <div id="preloader" class="hidden blur-md"></div>
        <div id="main">
            <!-- Reference: https://merakiui.com/components/application-ui/navbars -->
            <nav class="relative bg-white shadow">
                <div class="container px-6 py-4 mx-auto md:flex md:justify-between md:items-center">
                    <!-- Desktop version - TODO -->
                    <div class="text-3xl m-3">
                        <span class="text-center">FUCC</span>
                    </div>
                    <div class="p-4 group relative">
                        <div class="group-hover:blur-md">
                            <a href="#" class="underline-offset-2 p-3 m-3">Overview</a>
                            <a href="#" class="p-3 m-3">History</a>
                            <a href="#" class="p-3 m-3">People</a>
                        </div>
                        <div class="absolute top-0 h-full left-0 w-full flex flex-col justify-center items-center opacity-0 group-hover:opacity-100 duration-200">
                            <p>Nope, not yet</p>
                        </div>
                    </div>
                    <div class="m-3">
                        <button class="rounded bg-green-500 p-3" onclick="showModal()">
                            <i class="fa fa-solid fa-plus"></i>
                            Add Item
                        </button>
                    </div>
                    <div class="group relative">
                        <div class="">
                            <!-- Shown when logged in-->
                            <div id="account" class="hidden flex items-center group-hover:blur-md transform duration-200">
                                <img id="avatar" class="rounded-full w-16 h-16" alt="avatar">
                                <span id="accountname" class="text-lg"></span>
                            </div>
                            <!-- Shown when not logged in -->
                            <a href="/api/discord/login" class="bg-[#5865F2] text-white p-3 rounded" id="loginbutton">
                                <i class="fab fa-discord"></i>
                                Login with Discord
                            </a>
                            <div class="absolute top-0 h-full left-0 w-full flex flex-col justify-center items-center opacity-0 group-hover:opacity-100 duration-200 hidden" id="logoutbutton">
                                <button class="text-white bg-red-700 rounded p-3 m-1" onclick="deleteUserdata(); location.reload()">Logout</button>
                            </div>
                        </div>
                    </div>
                </div>
            </nav>
            <nav class="m-5 border-b-4 justify-between items-center hidden">
                <!-- Mobile version - TODO -->
            </nav>
            <template id="application">
                <div class="p-4 group relative max-w-80">
                    <div class="group-hover:blur-md">
                        <img src="" alt="product image" id="productImage">
                        <span class="line-clamp-2" id="productTitle"></span>
                        <div class="font-bold" id="productPrice"></div>
                        <div>
                            <i class="fa fa-user-circle"></i>
                            <span id="productApplicant"></span>
                        </div>
                    </div>
                    <div class="absolute top-0 h-full left-0 w-full flex flex-col justify-center items-center opacity-0 group-hover:opacity-100 duration-200">
                        <a id="productPage" class="bg-black text-white rounded p-3 m-1">
                            <i class="fa fa-arrow-right"></i>
                            Visit
                        </a>
                        <button class="text-white bg-green-700 rounded p-3 m-1">Approve</button>
                        <button class="text-white bg-red-700 rounded p-3 m-1">Deny</button>
                    </div>
                </div>
            </template>
            <div class="grid grid-flow-row sm:grid-cols-2 md:grid-cols-6 lg:grid-cols-9 gap-4 m-2" id="applicationGrid"></div>
            <footer class="bg-white fixed bottom-0 border-t-2 border-gray-50 w-full">
                <div class="container flex flex-col items-center justify-between p-6 sm:space-y-0 sm:flex-row text-sm text-gray-600 text-center">
                    <p>
                        Â© Copyright 2024
                        <a href="https://github.com/KlSchlitzohr">KlSchlitzohr</a>
                        <a href="https://github.com/LeYoshi05">LeYoshi05</a>
                        <a href="https://github.com/theBreadCompany">TheBreadCompany</a>
                    </p>
                    <p>
                        By interacting with this site you agree to the usage of cookies
                        to allow reading and writing user data.
                    </p>
                </div>
            </footer>
        </div>
        <div id="modal" class="fixed inset-0 flex items-center justify-center bg-black bg-opacity-20 shadow-lg hidden">
            <div class="bg-white rounded-lg w-1/3">
                <div class="px-6 py-4 border-b">
                    <h2 class="text-xl font-bold">Apply for item</h2>
                </div>
                <div class="px-6 py-4">
                    <p class="text-gray-700">You can add application info below.</p>
                </div>
                <input id="newItemURL" class="m-6 p-2 rounded-sm border-gray-50 border-2" placeholder="URL" onkeydown="addItemPrefetchURL()">
                <img id="newItemPreview" class="w-1/3 h-1/3 center object-center m-auto" alt="">
                <input id="newItemTitle" class="m-6 p-2 rounded-sm border-gray-50 border-2" placeholder="Title">
                <input id="newItemDescription" class="m-6 p-2 rounded-sm border-gray-50 border-2" placeholder="Description">
                <input id="newItemPrice" class="m-6 p-2 rounded-sm border-gray-50 border-2" placeholder="Price">
                <input id="newItemQuantity" class="m-6 p-2 rounded-sm border-gray-50 border-2" placeholder="Quantity">
                <div class="px-6 py-4 border-t flex justify-end">
                    <button id="addItem" class="px-4 py-2 mx-3 bg-green-600 text-white rounded" onclick="hideModal(); addItem()">Apply</button>
                    <button id="closeModal" class="px-4 py-2 bg-red-600 text-white rounded" onclick="hideModal()">Cancel</button>
                </div>
            </div>
        </div>
    </body>
</html>